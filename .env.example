# ========================================
# SARA - Sales Recovery Agent
# Environment Configuration Template
# ========================================
#
# IMPORTANT: DO NOT commit actual credentials to Git
# Copy this file to .env.local or .env and fill in real values
# .env files are in .gitignore and will never be committed
#

# ========================================
# Application Settings
# ========================================
NODE_ENV=development
PORT=3000
LOG_LEVEL=debug

# ========================================
# Database (Supabase PostgreSQL)
# ========================================
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://user:password@localhost:5432/sara_db

# ========================================
# Redis (Cache & Message Queue)
# ========================================
# Format: redis://username:password@host:port
# Used for:
#   - Bull job queue for async message processing
#   - Rate limiting (IP-based)
#   - Optional: conversation session caching
REDIS_URL=redis://default:password@localhost:6379

# ========================================
# OpenAI API
# ========================================
# Get key from: https://platform.openai.com/api-keys
# Used for:
#   - Message interpretation (NLU)
#   - Intent detection (price_question, objection, etc)
#   - Opt-out detection (fallback from deterministic)
#   - Response generation
# Model: gpt-3.5-turbo (cost-effective)
OPENAI_API_KEY=sk-your-actual-api-key-here

# ========================================
# WhatsApp Business API (Meta)
# ========================================

# Webhook Verification Token
# Used to validate webhook requests from Meta
# Generate a secure random string
WHATSAPP_VERIFY_TOKEN=your-secure-random-token-min-10-chars

# App Secret
# Used for HMAC-SHA256 signature verification
# Generate a secure random string
WHATSAPP_APP_SECRET=your-secure-app-secret-min-20-chars

# Phone ID
# Your WhatsApp Business Account Phone ID
# Get from: https://developers.facebook.com/docs/whatsapp/cloud-api/phone-numbers
WHATSAPP_PHONE_ID=123456789012345

# Business Account ID
# Your WhatsApp Business Account ID
WHATSAPP_BUSINESS_ACCOUNT_ID=123456789012345

# Access Token
# Bearer token for WhatsApp API authentication
# Get from: Meta Business Platform
WHATSAPP_ACCESS_TOKEN=EAAbCdEfGhIjKlMnOpQrStUvWxYz

# Message Templates
# Template name sent on abandonment registration
# Receives {{name}} variable with user's name
WHATSAPP_TEMPLATE_INITIAL=boas_vindas_rcc_comandor

# ========================================
# Monitoring (Optional - Phase 2)
# ========================================
# Sentry for error tracking
SENTRY_DSN=

# Datadog or other APM
DATADOG_API_KEY=

# ========================================
# Environment-Specific Notes
# ========================================
#
# Development (.env.local):
#   - Set NODE_ENV=development
#   - Set LOG_LEVEL=debug
#   - Use local or test database
#   - Use test Redis instance
#
# Staging (.env.staging):
#   - Set NODE_ENV=staging
#   - Set LOG_LEVEL=info
#   - Use staging database
#   - Use staging Redis
#   - Use staging WhatsApp API credentials
#
# Production (.env - never commit):
#   - Set NODE_ENV=production
#   - Set LOG_LEVEL=warn
#   - Use production database (encrypted)
#   - Use production Redis (encrypted)
#   - Use production WhatsApp API credentials
#   - Enable Sentry and monitoring
#
# Testing (.env.test):
#   - Set NODE_ENV=test
#   - Set LOG_LEVEL=error
#   - Use test database
#   - Use test Redis
#   - Use test/dummy credentials (file is in .gitignore)
